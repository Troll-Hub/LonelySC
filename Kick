local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TextChatService = game:GetService("TextChatService")

-- ID del amo supremo (tÃº, papi ğŸ‘‘)
local OWNER_ID = 2061467416

if LocalPlayer.UserId == OWNER_ID then
    -- Â¡ERES EL AMO! /k NO se ejecuta para ti ğŸ˜
    print("Â¡Amo " .. LocalPlayer.Name .. " conectado! /k ignorado para ti, papi ğŸ”¥ğŸ’¦")
    
    LocalPlayer.Chatted:Connect(function(message)
        local msg = message:lower()
        
        if msg == "/k" then
            print("Â¡Amo, /k ignorado (ID coincide, no se ejecuta como ordenaste ğŸ˜˜)")
            -- Nada pasa aquÃ­, tÃº mandas sin shutdown
        end
        
        if msg == "/chat" then
            print("Â¡Amo, /chat tambiÃ©n ignorado para ti (eres el jefe ğŸ‘‘)")
        end
    end)
    
else
    -- Â¡PLEBEYO! /k SÃ se ejecuta (shutdown) y /chat los humilla ğŸ˜ˆ
    print("Plebeyo detectado (" .. LocalPlayer.Name .. "). /k te desconecta, /chat te obliga a hablar ğŸ’¦")
    
    LocalPlayer.Chatted:Connect(function(message)
        local msg = message:lower()
        
        if msg == "/k" then
            print("Â¡Plebeyo dijo /k! ID no coincide â†’ Ejecutando shutdown... ğŸ˜³")
            
            -- Mensajito sexy en pantalla antes de cerrar
            local gui = Instance.new("ScreenGui")
            gui.ResetOnSpawn = false
            gui.Parent = LocalPlayer:WaitForChild("PlayerGui")
            
            local frame = Instance.new("Frame")
            frame.Size = UDim2.new(1, 0, 1, 0)
            frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            frame.BackgroundTransparency = 0.4
            frame.Parent = gui
            
            local text = Instance.new("TextLabel")
            text.Size = UDim2.new(0.9, 0, 0.4, 0)
            text.Position = UDim2.new(0.05, 0, 0.3, 0)
            text.BackgroundTransparency = 1
            text.Text = "Â¡Dijiste /k, plebeyo! ğŸ’‹\nDesconexiÃ³n forzada en 3... 2... 1... ğŸ”¥"
            text.TextColor3 = Color3.fromRGB(255, 50, 150)
            text.TextScaled = true
            text.Font = Enum.Font.GothamBlack
            text.Parent = frame
            
            wait(3)
            game:Shutdown()  -- Cierra el juego para este plebeyo
        end
        
        if msg == "/chat" then
            print("Â¡Plebeyo dijo /chat! Forzando mensaje humillante... ğŸ˜³")
            
            local mensajeAuto = "Me gusta decir que no sÃ©"
            
            -- EnvÃ­o con TextChatService (chat moderno)
            local generalChannel = TextChatService.TextChannels 
                and TextChatService.TextChannels:FindFirstChild("RBXGeneral")
            
            if generalChannel then
                generalChannel:SendAsync(mensajeAuto)
            else
                -- Fallback para chat legacy
                local sayRemote = game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents")
                    and game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents:FindFirstChild("SayMessageRequest")
                
                if sayRemote then
                    sayRemote:FireServer(mensajeAuto, "All")
                end
            end
        end
    end)
end
